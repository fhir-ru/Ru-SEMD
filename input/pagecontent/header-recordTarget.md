# Сопоставление требований СЭМД и профилей Ru_SEMD_IG
Данный раздел содержит таблицу сопоставления между требованиями к разделу "Сведения о пациенте (recordTarget)" заголовка СЭМД и тем, как эти требования реализованы в FHIR-профилях настоящего руководства. Номера требований СЭМД приведены по разделу 3.2 спецификации СЭМД «Протокол лабораторного исследования (Р5)».

### Идентификаторы пациента (профиль SEMD_Patient)

| № требования СЭМД | Формулировка требования СЭМД | Как реализовано в FHIR профиле |
| --- | --- | --- |
| У1-12.1.1 | ОБЯЗАН иметь идентификатор пациента в МИС | `identifier[misId]` с `system = urn:oid:<OID>.10`, тип `PN` |
| У1-12.1.2 | ДОЛЖЕН иметь идентификатор СНИЛС | `identifier[snils]` с `system = http://fhir.ru/ig/RuSEMD/systems/snils`, тип `SB` |
| У1-12.1.3.1 | ОБЯЗАН иметь тип документа удостоверения личности с кодом из справочника | `identifier[identityDocument].type` с `coding.system = 1.2.643.5.1.13.13.99.2.48` |
| У1-12.1.3.2 | ДОЛЖЕН иметь серию документа; ОБЯЗАН — если код = "24" | В составе `identifier[identityDocument].value` через `_`, если `type.coding.code = 24` |
| У1-12.1.3.3 | ОБЯЗАН иметь номер документа | `identifier[identityDocument].value`, после `_` |
| У1-12.1.4.1 | ОБЯЗАН иметь тип полиса ОМС | `identifier[omsPolicy].type` — код и система из НСИ |
| У1-12.1.4.2 | МОЖЕТ иметь серию полиса | При наличии включается в `identifier[omsPolicy].value` до `_` |
| У1-12.1.4.3 | ОБЯЗАН иметь номер полиса | `identifier[omsPolicy].value`, после `_` |


### Адрес пациента (профиль SEMD_Address)

| № требования СЭМД | Формулировка требования СЭМД | Как реализовано в FHIR профиле |
| --- | --- | --- |
| У1-12.1.5                          | Сведения об адресе пациента                         | `address only SEMD_Address`                 |
| У1-12.1.5.1                        | ОБЯЗАН иметь тип адреса                             | `SEMD_Address.extension[address-type]`      |
| У1-12.1.5.2                        | ОБЯЗАН иметь адрес строкой                          | `SEMD_Address.line`                         |
| У1-12.1.5.3                        | ОБЯЗАН иметь код региона                            | `SEMD_Address.state` или `extension[stateCode]` |
| У1-12.1.5.4                        | ДОЛЖЕН иметь индекс                                 | `SEMD_Address.postalCode`                   |
| У1-12.1.5.5.1                      | ОБЯЗАН иметь fias:AOGUID                            | `SEMD_Address.extension[aoguid]`            |
| У1-12.1.5.5.2                      | ДОЛЖЕН иметь fias:HOUSEGUID                         | `SEMD_Address.extension[houseguid]`         |

### Контакты пациента (профиль SEMD_Patient)

| № требования СЭМД | Формулировка требования СЭМД | Как реализовано в FHIR профиле |
| --- | --- | --- |
| У1-12.1.6 | МОЖЕТ иметь контактную информацию | `telecom` с типами `phone`, `email` |

### Личные данные пациента (профиль SEMD_Patient)

| № требования СЭМД | Формулировка требования СЭМД | Как реализовано в FHIR профиле |
| --- | --- | --- |
| У1-12.1.7.1.1 | ОБЯЗАН иметь фамилию | `name.family` |
| У1-12.1.7.1.2 | ОБЯЗАН иметь имя | `name.given[0]` |
| У1-12.1.7.1.3 | МОЖЕТ иметь отчество | `name.given[1]` |
| У1-12.1.7.2 | ДОЛЖЕН иметь пол | `gender` с valueSet из НСИ 11.1040 |
| У1-12.1.7.3 | ДОЛЖЕН иметь дату рождения | `birthDate`, формат YYYY-MM-DD или YYYY-MM-DDTHH:MM для новорождённых |

### Представитель пациента (используется профиль SEMD_RelatedPerson)

| № требования СЭМД | Формулировка требования СЭМД | Как реализовано в FHIR профиле |
| --- | --- | --- |
| У1-12.1.7.4 | Сведения о представителе пациента | Представлен отдельным ресурсом `RelatedPerson`, с обязательной ссылкой `RelatedPerson.patient` на пациента |
| У1-12.1.7.4.1 | МОЖЕТ иметь id законного представителя (СНИЛС) | `RelatedPerson.identifier[snils]` с `system = http://fhir.ru/ig/RuSEMD/systems/snils` |
| У1-12.1.7.4.2 | МОЖЕТ иметь ФИО представителя | `RelatedPerson.name.family`, `name.given[0]`, `name.extension[patronymic]` |
| У1-12.1.7.4.3 | МОЖЕТ иметь контакты представителя | `RelatedPerson.telecom` с типами `phone`, `email` |
| У1-12.1.7.4.4 | МОЖЕТ иметь адрес представителя | `RelatedPerson.address only SEMD_Address` |
| У1-12.1.7.4.5 | МОЖЕТ иметь тип родственной связи | `RelatedPerson.relationship` c кодами из НСИ 2.14 |

### Организация, обслуживающая пациента (используется профиль SEMD_Organization)

| № требования СЭМД | Формулировка требования СЭМД | Как реализовано в FHIR профиле |
| --- | --- | --- |
| У1-12.1.8 | Сведения об организации, обслуживающей пациента | Представлена отдельным ресурсом `Organization`, на который указывает `Patient.managingOrganization` |
| У1-12.1.8.1 | ОБЯЗАН иметь название мед.организации | `Organization.name` |
| У1-12.1.8.2 | МОЖЕТ иметь идентификатор организации | `Organization.identifier` с OID из НСИ 11.1461 |
| У1-12.1.8.3 | МОЖЕТ иметь контакты и адрес организации | `Organization.telecom`, `Organization.address` |
| У1-12.1.8.4 | МОЖЕТ содержать подразделение | TODO (возможная реализация через `Organization.partOf` или `extension`) |


